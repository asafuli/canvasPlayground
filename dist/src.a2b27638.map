{"version":3,"sources":["src/gekko.js","src/index.js"],"names":["Gekko","ctx","htmlId","movingSpeed","position","x","y","w","h","image","document","getElementById","speed","movingAxis","move","bind","jump","draw","updatePlayerPosition","stop","axis","sign","deltaTime","drawImage","i","setTimeout","clearRect","e","console","log","key","canvas","getContext","lastTime","gekko","window","addEventListener","checkAction","GameLoop","timestamp","dt","requestAnimationFrame"],"mappings":"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","file":"src.a2b27638.map","sourceRoot":"..","sourcesContent":["export default class Gekko {\r\n  \r\n  constructor(ctx, htmlId, movingSpeed=50, position={x : 200, y : 200, w : 180, h : 180}){\r\n    \r\n    this.ctx = ctx;\r\n    this.image = document.getElementById(htmlId);\r\n    this.speed = movingSpeed;\r\n    this.movingSpeed = movingSpeed;\r\n    this.movingAxis = 'x';\r\n    this.position = {...position};\r\n    //bindings\r\n    this.move = this.move.bind(this);\r\n    this.jump = this.jump.bind(this);\r\n    this.draw = this.draw.bind(this);\r\n    this.updatePlayerPosition = this.updatePlayerPosition.bind(this);\r\n    this.stop = this.stop.bind(this);\r\n  }\r\n\r\n  //Functions\r\n\r\n  move(axis,sign){\r\n  this.speed = this.movingSpeed * sign;\r\n  this.movingAxis  = axis;\r\n  };\r\n\r\n  updatePlayerPosition(deltaTime){\r\n    if (!deltaTime) return;\r\n    this.position[this.movingAxis] += this.speed/deltaTime;\r\n  }\r\n\r\n  draw(){\r\n    const {x, y, w, h} = this.position;\r\n    return this.ctx.drawImage(this.image, x, y, w, h);\r\n  }\r\n\r\n  jump(){\r\n    for (let i = 0; i < 20 ; i++){\r\n      setTimeout(() => {\r\n        this.ctx.clearRect(0, 0, 800, 500);\r\n        this.position.y = (i < 10) ? this.position.y - 10 : this.position.y + 10;\r\n        this.draw();\r\n      },i * 20,this.position)\r\n    }\r\n  }\r\n  \r\n  checkAction(e){\r\n    console.log(this.move);\r\n    switch(e.key){\r\n      case 'ArrowRight':\r\n        this.move('x',1);\r\n        break\r\n      case 'ArrowLeft':\r\n        this.move('x',-1);\r\n        break\r\n      case 'ArrowUp':\r\n        this.move('y',-1);\r\n        break\r\n      case 'ArrowDown':\r\n        this.move('y',1);\r\n        break\r\n      case ' ':\r\n        this.jump();\r\n        break\r\n    }\r\n  }\r\n  \r\n  stop(e){\r\n    switch(e.key){\r\n      case 'ArrowRight':\r\n        if (this.speed > 0 && this.movingAxis === 'x') this.speed = 0;  \r\n        break\r\n      case 'ArrowLeft':\r\n        if (this.speed < 0 && this.movingAxis === 'x') this.speed = 0;\r\n        break\r\n      case 'ArrowUp':\r\n        if (this.speed < 0 && this.movingAxis === 'y') this.speed = 0;\r\n        break\r\n      case 'ArrowDown':\r\n        if (this.speed > 0 && this.movingAxis === 'y') this.speed = 0;\r\n        break\r\n    }\r\n  }\r\n\r\n  /*getRandomColor() {\r\n    var letters = '0123456789ABCDEF';\r\n    var color = '#';\r\n    for (var i = 0; i < 6; i++) {\r\n      color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n  }\r\n  \r\n  createRandMeasurements(){\r\n    return {x: Math.random() * 300, \r\n            y: Math.random() * 300,\r\n            w: Math.random() * 1000,\r\n            h: Math.random() * 1000}\r\n  }\r\n  */\r\n\r\n}","import Gekko from './gekko';\r\n\r\n//Globals\r\nlet canvas = document.getElementById(\"gameScreen\");\r\nlet ctx = canvas.getContext(\"2d\");\r\nlet lastTime = 0;\r\n\r\n//Instantiation\r\nlet gekko = new Gekko(ctx, \"gekkoImg\");\r\n\r\n//Event listeners\r\nwindow.addEventListener('keydown', e => gekko.checkAction(e));\r\nwindow.addEventListener('keyup', e => gekko.stop(e));\r\n\r\nfunction GameLoop(timestamp){\r\n  let dt = timestamp - lastTime;\r\n  lastTime = timestamp;\r\n\r\n  ctx.clearRect(0, 0, 800, 500);\r\n  gekko.updatePlayerPosition(dt);\r\n  gekko.draw()\r\n\r\n  requestAnimationFrame(GameLoop);\r\n}\r\n//Initial call\r\nGameLoop();\r\n\r\n\r\n\r\n\r\n"]}