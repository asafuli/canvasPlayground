{"version":3,"sources":["src/gekko.js","src/index.js"],"names":["Gekko","ctx","htmlId","controls","right","left","up","down","jump","position","x","y","w","h","movingSpeed","image","document","getElementById","speed","movingAxis","move","bind","draw","updatePlayerPosition","stop","axis","sign","deltaTime","drawImage","i","setTimeout","clearRect","e","key","canvas","getContext","lastTime","players","gekkoExist","catBoyExist","yotamExist","gekkoThumb","catBoyThumb","yotamThumb","addEventListener","ev","addPlayer","newPlayer","target","id","alert","window","checkAction","push","GameLoop","timestamp","dt","map","player","requestAnimationFrame"],"mappings":"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","file":"src.a2b27638.map","sourceRoot":"..","sourcesContent":["export default class Gekko {\r\n  \r\n  constructor(ctx, htmlId, controls = {right: 'ArrowRight', left: 'ArrowLeft', up: 'ArrowUp', down: 'ArrowDown', jump: ' '}, position={x: 200, y: 200, w: 180, h: 180}, movingSpeed=50){\r\n    \r\n    this.ctx = ctx;\r\n    this.image = document.getElementById(htmlId);\r\n    this.speed = 0;\r\n    this.movingSpeed = movingSpeed;\r\n    this.movingAxis = 'x';\r\n    this.position = {...position};\r\n    this.controls = {...controls};\r\n    //bindings\r\n    this.move = this.move.bind(this);\r\n    this.jump = this.jump.bind(this);\r\n    this.draw = this.draw.bind(this);\r\n    this.updatePlayerPosition = this.updatePlayerPosition.bind(this);\r\n    this.stop = this.stop.bind(this);\r\n  }\r\n\r\n  //Functions\r\n\r\n  move(axis,sign){\r\n  this.speed = this.movingSpeed * sign;\r\n  this.movingAxis  = axis;\r\n  };\r\n\r\n  updatePlayerPosition(deltaTime){\r\n    if (!deltaTime) return;\r\n    this.position[this.movingAxis] += this.speed/deltaTime;\r\n  }\r\n\r\n  draw(){\r\n    const {x, y, w, h} = this.position;\r\n    return this.ctx.drawImage(this.image, x, y, w, h);\r\n  }\r\n\r\n  jump(){\r\n    for (let i = 0; i < 20 ; i++){\r\n      setTimeout(() => {\r\n        this.ctx.clearRect(0, 0, 800, 500);\r\n        this.position.y = (i < 10) ? this.position.y - 10 : this.position.y + 10;\r\n        this.draw();\r\n      },i * 20,this.position)\r\n    }\r\n  }\r\n  \r\n  checkAction(e){\r\n    switch(e.key){\r\n      case this.controls.right:\r\n        this.move('x',1);\r\n        break\r\n      case this.controls.left:\r\n        this.move('x',-1);\r\n        break\r\n      case this.controls.up:\r\n        this.move('y',-1);\r\n        break\r\n      case this.controls.down:\r\n        this.move('y',1);\r\n        break\r\n      case this.controls.jump:\r\n        this.jump();\r\n        break\r\n    }\r\n  }\r\n  \r\n  stop(e){\r\n    switch(e.key){\r\n      case this.controls.right:\r\n        if (this.speed > 0 && this.movingAxis === 'x') this.speed = 0;  \r\n        break\r\n      case this.controls.left:\r\n        if (this.speed < 0 && this.movingAxis === 'x') this.speed = 0;\r\n        break\r\n      case this.controls.up:\r\n        if (this.speed < 0 && this.movingAxis === 'y') this.speed = 0;\r\n        break\r\n      case this.controls.down:\r\n        if (this.speed > 0 && this.movingAxis === 'y') this.speed = 0;\r\n        break\r\n    }\r\n  }\r\n\r\n  /*getRandomColor() {\r\n    var letters = '0123456789ABCDEF';\r\n    var color = '#';\r\n    for (var i = 0; i < 6; i++) {\r\n      color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n  }\r\n  */\r\n}","import Gekko from './gekko';\r\n\r\n//Globals\r\nlet canvas = document.getElementById(\"gameScreen\");\r\nlet ctx = canvas.getContext(\"2d\");\r\nlet lastTime = 0;\r\nlet players = [];\r\nlet gekkoExist = false;\r\nlet catBoyExist = false;\r\nlet yotamExist = false;\r\n//thumbnails\r\nlet gekkoThumb = document.getElementById(\"gekkoThumb\");\r\nlet catBoyThumb = document.getElementById(\"catBoyThumb\");\r\nlet yotamThumb = document.getElementById(\"yotamThumb\");\r\ngekkoThumb.addEventListener('click', function(ev){addPlayer(ev)}, false);\r\ncatBoyThumb.addEventListener('click', function(ev){addPlayer(ev)}, false);\r\nyotamThumb.addEventListener('click', function(ev){addPlayer(ev)}, false);\r\n\r\nfunction addPlayer(ev){\r\n  let newPlayer;\r\n  if (ev.target.id === \"gekkoThumb\" && !gekkoExist){\r\n    newPlayer = new Gekko(ctx, \"gekkoImg\");\r\n    gekkoExist = true;\r\n  } else if (ev.target.id === \"catBoyThumb\" && !catBoyExist){\r\n    newPlayer = new Gekko(ctx, \"catBoyImg\", {right: 'd', left: 'a', up: 'w', down: 's', jump: '1'});\r\n    catBoyExist = true;\r\n  } else if (ev.target.id === \"yotamThumb\" && !yotamExist){\r\n    newPlayer = new Gekko(ctx, \"yotamThumb\", {right: \"'\", left: 'l', up: 'p', down: ';', jump: '='});\r\n    yotamExist = true;\r\n  } else {\r\n    alert('Player already exist...');\r\n    return\r\n  }\r\n  window.addEventListener('keydown', e => newPlayer.checkAction(e));\r\n  window.addEventListener('keyup', e => newPlayer.stop(e));\r\n  players.push(newPlayer);\r\n}\r\n\r\nfunction GameLoop(timestamp){\r\n  let dt = timestamp - lastTime;\r\n  lastTime = timestamp;\r\n\r\n  ctx.clearRect(0, 0, 800, 500);\r\n\r\n  players.map(player => {\r\n    player.updatePlayerPosition(dt);\r\n    player.draw();\r\n    }\r\n  )\r\n  requestAnimationFrame(GameLoop);\r\n}\r\n//Initial call\r\nGameLoop();\r\n\r\n\r\n\r\n\r\n"]}