{"version":3,"sources":["src/index.js"],"names":["canvas","document","getElementById","ctx","getContext","gekkoImg","catBoyImg","lastTime","speed","movingSpeed","movingAxis","basePosition","x","y","w","h","baseCatPosition","position","catPosition","gekkoThumb","drawGekko","drawImage","drawCatBoy","move","axis","sign","jump","i","setTimeout","clearRect","moveGekko","e","key","boost","stopGekko","window","addEventListener","updateGekko","deltaTime","GameLoop","timestamp","dt","requestAnimationFrame"],"mappings":"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","file":"src.a2b27638.map","sourceRoot":"..","sourcesContent":["//import Gekko from './gekko';\r\n\r\n//Globals\r\nlet canvas = document.getElementById(\"gameScreen\");\r\nlet ctx = canvas.getContext(\"2d\");\r\nlet gekkoImg = document.getElementById(\"gekkoImg\");\r\nlet catBoyImg = document.getElementById(\"catBoyImg\");\r\nlet lastTime = 0;\r\nlet speed = 0;\r\nlet movingSpeed = 50;\r\nlet movingAxis = 'x';\r\nlet basePosition = {\r\n  x : 200,\r\n  y : 200,\r\n  w : 180,\r\n  h : 180\r\n}\r\nlet baseCatPosition = {\r\n  x : 400,\r\n  y : 200,\r\n  w : 180,\r\n  h : 180\r\n}\r\nlet position = {...basePosition};\r\nlet catPosition = {...baseCatPosition};\r\nlet gekkoThumb = document.getElementById('gekkoThumb');\r\n\r\n//Functions\r\nfunction drawGekko({x ,y ,w ,h}){\r\n  return ctx.drawImage(gekkoImg, x, y, w, h)\r\n}\r\nfunction drawCatBoy({x ,y ,w ,h}){\r\n  return ctx.drawImage(catBoyImg, x, y, w, h)\r\n}\r\n\r\nfunction move(axis,sign){\r\n  speed = movingSpeed * sign;\r\n  movingAxis = axis;\r\n};\r\n\r\nfunction jump(){\r\n  for (let i = 0; i < 20 ; i++){\r\n    setTimeout(() => {\r\n      ctx.clearRect(0, 0, 800, 500);\r\n      position.y = (i < 10) ? position.y - 10 : position.y + 10;\r\n      catPosition.y = (i < 10) ? catPosition.y - 10 : catPosition.y + 10;\r\n      drawGekko(position);\r\n      drawCatBoy(catPosition);\r\n    },i * 20,position, catPosition)\r\n  }\r\n}\r\n\r\nfunction moveGekko(e){\r\n  switch(e.key){\r\n    case 'ArrowRight':\r\n      move('x',1);\r\n      break\r\n    case 'ArrowLeft':\r\n      move('x',-1);\r\n      break\r\n    case 'ArrowUp':\r\n      move('y',-1);\r\n      break\r\n    case 'ArrowDown':\r\n      move('y',1);\r\n      break\r\n    case 'b' :\r\n      boost();\r\n      break\r\n    case ' ':\r\n      jump();\r\n      break\r\n  }\r\n}\r\n\r\nfunction stopGekko(e){\r\n  switch(e.key){\r\n    case 'ArrowRight':\r\n      if (speed > 0 && movingAxis === 'x') speed = 0;  \r\n      break\r\n    case 'ArrowLeft':\r\n      if (speed < 0 && movingAxis === 'x') speed = 0;\r\n      break\r\n    case 'ArrowUp':\r\n      if (speed < 0 && movingAxis === 'y') speed = 0;\r\n      break\r\n    case 'ArrowDown':\r\n      if (speed > 0 && movingAxis === 'y') speed = 0;\r\n      break\r\n  }\r\n}\r\n\r\nwindow.addEventListener('keydown', e => moveGekko(e));\r\nwindow.addEventListener('keyup', e => stopGekko(e));\r\n//players thumbnails\r\n\r\n/*gekkoThumb.addEventListener('click',() => {\r\n  ctx.clearRect(0, 50, 800, 500);\r\n  drawGekko(basePosition);\r\n  drawCatBoy(baseCatPosition);\r\n  drawCatBoy(catPosition);\r\n  drawGekko(position)\r\n},false);*/\r\n\r\nfunction updateGekko(deltaTime){\r\n  if (!deltaTime) return;\r\n  position[movingAxis] += speed/deltaTime;\r\n}\r\n\r\nfunction GameLoop(timestamp){\r\n  let dt = timestamp - lastTime;\r\n  lastTime = timestamp;\r\n\r\n  ctx.clearRect(0, 0, 800, 500);\r\n  updateGekko(dt);\r\n  drawGekko(position);\r\n\r\n  requestAnimationFrame(GameLoop);\r\n}\r\n//Initial call\r\nGameLoop();\r\n\r\n\r\n\r\n\r\n"]}